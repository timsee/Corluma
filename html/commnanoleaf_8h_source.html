<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Corluma: commnanoleaf.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="CSS_Corluma.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Corluma
   &#160;<span id="projectnumber">v0.17.46</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d0537398ec3fe72d8d4f5c6709d28acc.html">comm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">commnanoleaf.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef COMMNANOLEAF_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define COMMNANOLEAF_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;QJsonArray&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;QNetworkAccessManager&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;QNetworkReply&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;QNetworkRequest&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;comm/arducor/controller.h&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;comm/nanoleaf/leafcontroller.h&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;comm/nanoleaf/leafdiscovery.h&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;comm/nanoleaf/leafschedule.h&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;comm/upnpdiscovery.h&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;commtype.h&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;cor/presetpalettes.h&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="class_comm_nanoleaf.html">   29</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_comm_nanoleaf.html">CommNanoleaf</a> : <span class="keyword">public</span> <a class="code" href="class_comm_type.html">CommType</a> {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    Q_OBJECT</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="class_comm_nanoleaf.html#a0fb073892ec615d6f7b553444f42064f">CommNanoleaf</a>();</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="class_comm_nanoleaf.html#af5a87c093888016b6ad174f63c0b6a83">~CommNanoleaf</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#a87bcbcdf6663b325d5ba9b1d629731e8">startup</a>();</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#a86fa167036d1d7463bb97df483355cbe">shutdown</a>();</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#a1e2b18f42e58f4cadbe18a01d662cd22">sendPacket</a>(<span class="keyword">const</span> QJsonObject&amp; <span class="keywordtype">object</span>);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#aa39b967942bd31328375291fa20243b5">changeColorCT</a>(<span class="keyword">const</span> cor::Controller&amp; controller, <span class="keywordtype">int</span> ct);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_nanoleaf.html#afa84edf826c4c41f76164ba6b0a54549">findNanoLeafController</a>(<span class="keyword">const</span> QString&amp; serialNumber, nano::LeafController&amp; leafController);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#a5b72f256ad61fa4bd6b814629c40f642">testIP</a>(<span class="keyword">const</span> nano::LeafController&amp; controller);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#a6dee2143f6712cbdbce5175603399ca2">testAuth</a>(<span class="keyword">const</span> nano::LeafController&amp; controller);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#aa9dd319cd38f316e0262819996c9d498">connectUPnPDiscovery</a>(<a class="code" href="class_u_pn_p_discovery.html">UPnPDiscovery</a>* UPnP);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#abf4465c7628d2ccc9a65c6decb05900b">deleteLight</a>(<span class="keyword">const</span> cor::Light&amp; light);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="class_comm_nanoleaf.html#a5161dbc4d693e77456a192cab60b9f92">   85</a></span>&#160;    ENanoleafDiscoveryState <a class="code" href="class_comm_nanoleaf.html#a5161dbc4d693e77456a192cab60b9f92">discoveryState</a>() { <span class="keywordflow">return</span> mDiscovery-&gt;state(); }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#a89417869256761d77bfaf729e894305e">renameController</a>(nano::LeafController controller, <span class="keyword">const</span> QString&amp; name);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="class_comm_nanoleaf.html#a39cc21e5c8bc29caa043887669ae54d6">   91</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#a39cc21e5c8bc29caa043887669ae54d6">setCustomColors</a>(std::vector&lt;QColor&gt; colors) { mCustomColors = colors; }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="class_comm_nanoleaf.html#aa0dc8154dae76673998489f8c02861ec">   94</a></span>&#160;    <span class="keyword">const</span> std::vector&lt;QColor&gt; <a class="code" href="class_comm_nanoleaf.html#aa0dc8154dae76673998489f8c02861ec">customColors</a>() { <span class="keywordflow">return</span> mCustomColors; }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="class_comm_nanoleaf.html#af408d94f9633e3418da13ce381cfbe2a">   97</a></span>&#160;    <span class="keyword">const</span> cor::Dictionary&lt;nano::LeafController&gt;&amp; <a class="code" href="class_comm_nanoleaf.html#af408d94f9633e3418da13ce381cfbe2a">controllers</a>() {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">return</span> mDiscovery-&gt;foundControllers();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="class_comm_nanoleaf.html#a957e08741f6d036aaa6e2bbab4559633">  102</a></span>&#160;    nano::LeafDiscovery* <a class="code" href="class_comm_nanoleaf.html#a957e08741f6d036aaa6e2bbab4559633">discovery</a>() { <span class="keywordflow">return</span> mDiscovery; }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keyword">const</span> cor::Dictionary&lt;nano::LeafSchedule&gt;&amp; <a class="code" href="class_comm_nanoleaf.html#afa2b7490571ee96194d9ffccc54dcce6">findSchedules</a>(</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keyword">const</span> nano::LeafController&amp; controller);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_nanoleaf.html#aa32adc7f447ff04e552634909ffc33ed">sendTimeout</a>(<span class="keyword">const</span> nano::LeafController&amp; controller, <span class="keywordtype">int</span> minutes);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">private</span> slots:</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">void</span> replyFinished(QNetworkReply*);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">void</span> onOffChange(<span class="keyword">const</span> nano::LeafController&amp; controller, <span class="keywordtype">bool</span> turnOn);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordtype">void</span> brightnessChange(<span class="keyword">const</span> nano::LeafController&amp; controller, <span class="keywordtype">int</span> brightness);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">void</span> routineChange(<span class="keyword">const</span> nano::LeafController&amp; controller, QJsonObject);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">void</span> timeOutChange(<span class="keyword">const</span> nano::LeafController&amp; controller, <span class="keywordtype">int</span> timeout);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordtype">void</span> stateUpdate();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">void</span> getSchedules();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    std::vector&lt;QColor&gt; mCustomColors;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">void</span> resetBackgroundTimers();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">void</span> stopBackgroundTimers();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    QTime mLastBackgroundTime;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordtype">void</span> createColorPalettes();</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordtype">void</span> checkForSavedData();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">const</span> QString packetHeader(<span class="keyword">const</span> nano::LeafController&amp; controller);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">void</span> putJSON(<span class="keyword">const</span> QNetworkRequest&amp; request, <span class="keyword">const</span> QJsonObject&amp; json);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    QNetworkRequest networkRequest(<span class="keyword">const</span> nano::LeafController&amp; controller, <span class="keyword">const</span> QString&amp; endpoint);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordtype">void</span> parseStateUpdatePacket(nano::LeafController&amp; controller, <span class="keyword">const</span> QJsonObject&amp; stateUpdate);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">void</span> parseScheduleUpdatePacket(<span class="keyword">const</span> nano::LeafController&amp; controller,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                   <span class="keyword">const</span> QJsonArray&amp; scheduleUpdate);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">void</span> parseCommandRequestUpdatePacket(<span class="keyword">const</span> nano::LeafController&amp; controller,</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                         <span class="keyword">const</span> QJsonObject&amp; requestPacket);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    QJsonObject createRoutinePacket(ERoutine routine, <span class="keywordtype">int</span> speed);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    QJsonArray createPalette(<span class="keyword">const</span> cor::Light&amp; light);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordtype">void</span> singleSolidColorChange(<span class="keyword">const</span> nano::LeafController&amp; controller, <span class="keyword">const</span> QColor&amp; color);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    std::pair&lt;QJsonArray, QJsonArray&gt; vectorToNanoleafPalettes(<span class="keyword">const</span> std::vector&lt;QColor&gt;&amp;);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    std::vector&lt;QColor&gt; nanoleafPaletteToVector(<span class="keyword">const</span> QJsonArray&amp; palette);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    std::pair&lt;QColor, uint32_t&gt; computeBrightnessAndColorFromSingleColorPacket(</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        ERoutine routine,</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keyword">const</span> std::vector&lt;QColor&gt;&amp; colorVector);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    uint32_t computeBrightnessFromMultiColorPacket(ERoutine routine,</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                                   <span class="keyword">const</span> std::vector&lt;QColor&gt;&amp; colorVector);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    QNetworkAccessManager* mNetworkManager;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="class_u_pn_p_discovery.html">UPnPDiscovery</a>* mUPnP;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    PresetPalettes mPresetPalettes;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    std::vector&lt;QJsonArray&gt; mPalettes;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    std::vector&lt;QJsonArray&gt; mHighlightPalettes;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    nano::LeafDiscovery* mDiscovery;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">void</span> sendSchedule(<span class="keyword">const</span> nano::LeafController&amp; controller, <span class="keyword">const</span> nano::LeafSchedule&amp; schedule);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    nano::LeafSchedule findSchedule(<span class="keyword">const</span> nano::LeafController&amp; controller, <span class="keyword">const</span> QString&amp; ID);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">void</span> updateSchedule(<span class="keyword">const</span> nano::LeafController&amp; controller, <span class="keyword">const</span> nano::LeafSchedule&amp; schedule);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    std::unordered_map&lt;std::string, cor::Dictionary&lt;nano::LeafSchedule&gt;&gt; mSchedules;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    nano::LeafSchedule createTimeoutSchedule(<span class="keywordtype">int</span> minutesTimeout);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    QTimer* mScheduleTimer;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;};</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor">#endif // COMMNANOLEAF_H</span></div><div class="ttc" id="class_comm_nanoleaf_html_a6dee2143f6712cbdbce5175603399ca2"><div class="ttname"><a href="class_comm_nanoleaf.html#a6dee2143f6712cbdbce5175603399ca2">CommNanoleaf::testAuth</a></div><div class="ttdeci">void testAuth(const nano::LeafController &amp;controller)</div><div class="ttdoc">tests if an auth totken is valid by using it to send a packet. </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:296</div></div>
<div class="ttc" id="class_comm_nanoleaf_html"><div class="ttname"><a href="class_comm_nanoleaf.html">CommNanoleaf</a></div><div class="ttdoc">The CommNanoLeaf class provides an interface to communicate with a NanoLeaf Aurara. The NanoLeaf uses UPnP for discovery and then uses HTTP requests and JSON for communication. This class takes Corluma-formatted message packets and converts them into NanoLeaf packets. </div><div class="ttdef"><b>Definition:</b> commnanoleaf.h:29</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_a87bcbcdf6663b325d5ba9b1d629731e8"><div class="ttname"><a href="class_comm_nanoleaf.html#a87bcbcdf6663b325d5ba9b1d629731e8">CommNanoleaf::startup</a></div><div class="ttdeci">void startup()</div><div class="ttdoc">startup defined in CommType </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:225</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_af5a87c093888016b6ad174f63c0b6a83"><div class="ttname"><a href="class_comm_nanoleaf.html#af5a87c093888016b6ad174f63c0b6a83">CommNanoleaf::~CommNanoleaf</a></div><div class="ttdeci">~CommNanoleaf()=default</div><div class="ttdoc">destructor </div></div>
<div class="ttc" id="class_comm_nanoleaf_html_afa2b7490571ee96194d9ffccc54dcce6"><div class="ttname"><a href="class_comm_nanoleaf.html#afa2b7490571ee96194d9ffccc54dcce6">CommNanoleaf::findSchedules</a></div><div class="ttdeci">const cor::Dictionary&lt; nano::LeafSchedule &gt; &amp; findSchedules(const nano::LeafController &amp;controller)</div><div class="ttdoc">findSchedules returns the schedule dictionary for the given controller </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:90</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_af408d94f9633e3418da13ce381cfbe2a"><div class="ttname"><a href="class_comm_nanoleaf.html#af408d94f9633e3418da13ce381cfbe2a">CommNanoleaf::controllers</a></div><div class="ttdeci">const cor::Dictionary&lt; nano::LeafController &gt; &amp; controllers()</div><div class="ttdoc">getter for list of nanoleaf controllers </div><div class="ttdef"><b>Definition:</b> commnanoleaf.h:97</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_a1e2b18f42e58f4cadbe18a01d662cd22"><div class="ttname"><a href="class_comm_nanoleaf.html#a1e2b18f42e58f4cadbe18a01d662cd22">CommNanoleaf::sendPacket</a></div><div class="ttdeci">void sendPacket(const QJsonObject &amp;object)</div><div class="ttdoc">sendPacket send a packet based off of a JSON object containing all relevant information about the pac...</div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:337</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_aa0dc8154dae76673998489f8c02861ec"><div class="ttname"><a href="class_comm_nanoleaf.html#aa0dc8154dae76673998489f8c02861ec">CommNanoleaf::customColors</a></div><div class="ttdeci">const std::vector&lt; QColor &gt; customColors()</div><div class="ttdoc">getter for custom colors </div><div class="ttdef"><b>Definition:</b> commnanoleaf.h:94</div></div>
<div class="ttc" id="class_u_pn_p_discovery_html"><div class="ttname"><a href="class_u_pn_p_discovery.html">UPnPDiscovery</a></div><div class="ttdoc">The UPnPDiscovery class listens for UPnP packets and signals them out when they are received...</div><div class="ttdef"><b>Definition:</b> upnpdiscovery.h:18</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_a39cc21e5c8bc29caa043887669ae54d6"><div class="ttname"><a href="class_comm_nanoleaf.html#a39cc21e5c8bc29caa043887669ae54d6">CommNanoleaf::setCustomColors</a></div><div class="ttdeci">void setCustomColors(std::vector&lt; QColor &gt; colors)</div><div class="ttdoc">sets the custom colors used for custom color routines </div><div class="ttdef"><b>Definition:</b> commnanoleaf.h:91</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_a89417869256761d77bfaf729e894305e"><div class="ttname"><a href="class_comm_nanoleaf.html#a89417869256761d77bfaf729e894305e">CommNanoleaf::renameController</a></div><div class="ttdeci">void renameController(nano::LeafController controller, const QString &amp;name)</div><div class="ttdoc">renames a nanoleaf controller. This data is stored in appdata. </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:428</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_a86fa167036d1d7463bb97df483355cbe"><div class="ttname"><a href="class_comm_nanoleaf.html#a86fa167036d1d7463bb97df483355cbe">CommNanoleaf::shutdown</a></div><div class="ttdeci">void shutdown()</div><div class="ttdoc">shutdown defined in CommType </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:229</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_aa32adc7f447ff04e552634909ffc33ed"><div class="ttname"><a href="class_comm_nanoleaf.html#aa32adc7f447ff04e552634909ffc33ed">CommNanoleaf::sendTimeout</a></div><div class="ttdeci">void sendTimeout(const nano::LeafController &amp;controller, int minutes)</div><div class="ttdoc">sendTimeout sends a timeout schedule to the provided controller. </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:116</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_afa84edf826c4c41f76164ba6b0a54549"><div class="ttname"><a href="class_comm_nanoleaf.html#afa84edf826c4c41f76164ba6b0a54549">CommNanoleaf::findNanoLeafController</a></div><div class="ttdeci">bool findNanoLeafController(const QString &amp;serialNumber, nano::LeafController &amp;leafController)</div><div class="ttdoc">findNanoLeafController finds a nanoleaf controller based off of a cor::controller ...</div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:364</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_aa39b967942bd31328375291fa20243b5"><div class="ttname"><a href="class_comm_nanoleaf.html#aa39b967942bd31328375291fa20243b5">CommNanoleaf::changeColorCT</a></div><div class="ttdeci">void changeColorCT(const cor::Controller &amp;controller, int ct)</div><div class="ttdoc">changeAmbientLight changes the color of the bulb to match the color temperature given. This is the only way to interact with white ambiance bulbs and it can also be used with the RGB bulbs. </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:260</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_a0fb073892ec615d6f7b553444f42064f"><div class="ttname"><a href="class_comm_nanoleaf.html#a0fb073892ec615d6f7b553444f42064f">CommNanoleaf::CommNanoleaf</a></div><div class="ttdeci">CommNanoleaf()</div><div class="ttdoc">constructor </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:31</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_a5b72f256ad61fa4bd6b814629c40f642"><div class="ttname"><a href="class_comm_nanoleaf.html#a5b72f256ad61fa4bd6b814629c40f642">CommNanoleaf::testIP</a></div><div class="ttdeci">void testIP(const nano::LeafController &amp;controller)</div><div class="ttdoc">tests if an IP address is valid by sending a network request to it. </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:279</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_a5161dbc4d693e77456a192cab60b9f92"><div class="ttname"><a href="class_comm_nanoleaf.html#a5161dbc4d693e77456a192cab60b9f92">CommNanoleaf::discoveryState</a></div><div class="ttdeci">ENanoleafDiscoveryState discoveryState()</div><div class="ttdoc">getter for the discovery state of the nanoleaf </div><div class="ttdef"><b>Definition:</b> commnanoleaf.h:85</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_aa9dd319cd38f316e0262819996c9d498"><div class="ttname"><a href="class_comm_nanoleaf.html#aa9dd319cd38f316e0262819996c9d498">CommNanoleaf::connectUPnPDiscovery</a></div><div class="ttdeci">void connectUPnPDiscovery(UPnPDiscovery *UPnP)</div><div class="ttdoc">connects UPnP object to the discovery object. </div></div>
<div class="ttc" id="class_comm_type_html"><div class="ttname"><a href="class_comm_type.html">CommType</a></div><div class="ttdoc">inherited by comm types, provides a general interface that can be used to do connections and sending ...</div><div class="ttdef"><b>Definition:</b> commtype.h:28</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_abf4465c7628d2ccc9a65c6decb05900b"><div class="ttname"><a href="class_comm_nanoleaf.html#abf4465c7628d2ccc9a65c6decb05900b">CommNanoleaf::deleteLight</a></div><div class="ttdeci">void deleteLight(const cor::Light &amp;light)</div><div class="ttdoc">deletes the light from the save data and device table </div><div class="ttdef"><b>Definition:</b> commnanoleaf.cpp:1093</div></div>
<div class="ttc" id="class_comm_nanoleaf_html_a957e08741f6d036aaa6e2bbab4559633"><div class="ttname"><a href="class_comm_nanoleaf.html#a957e08741f6d036aaa6e2bbab4559633">CommNanoleaf::discovery</a></div><div class="ttdeci">nano::LeafDiscovery * discovery()</div><div class="ttdoc">getter for discovery object </div><div class="ttdef"><b>Definition:</b> commnanoleaf.h:102</div></div>
</div><!-- fragment --></div><!-- contents -->

<hr>
<table style="width:100%">
  <tr>
    <td>
      <p align="left">
      <small>
          &nbsp; &nbsp; Corluma Copyright 2015 - 2019  &nbsp; &nbsp; <br>
          &nbsp; &nbsp; All Rights GPL v3.0 Licensed.  &nbsp; &nbsp;
       </small>
       </p>
    </td>
    <td>
      <p align="right">
      <small>
          &nbsp; &nbsp;  Generated by doxygen &nbsp; &nbsp;
       </small>
       </p>
    </td>
  </tr>
</table>
