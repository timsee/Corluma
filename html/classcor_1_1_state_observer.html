<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Corluma: cor::StateObserver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="CSS_Corluma.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Corluma
   &#160;<span id="projectnumber">v0.18.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecor.html">cor</a></li><li class="navelem"><a class="el" href="classcor_1_1_state_observer.html">StateObserver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classcor_1_1_state_observer-members.html">List of all members</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">cor::StateObserver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classcor_1_1_state_observer.html" title="The StateObserver class listens to state changes in any of the main widgets of the application...">StateObserver</a> class listens to state changes in any of the main widgets of the application, and computes the intended state for the selected lights. It then triggers any updates that are required for the app. This includes both UI updates and packets that need to be sent to light hardware. The observer is set up from the <a class="el" href="class_main_window.html" title="The MainWindow class is the only window in this application. It contains a QStackedWidget which shows...">MainWindow</a> and acts as a sorta arbitrator for all user actions.  
 <a href="classcor_1_1_state_observer.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="stateobserver_8h_source.html">stateobserver.h</a>&quot;</code></p>

<p>Inherits QObject.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:affbeb1aee8ae80d2be553c4ccd501471"><td class="memItemLeft" align="right" valign="top"><a id="affbeb1aee8ae80d2be553c4ccd501471"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#affbeb1aee8ae80d2be553c4ccd501471">globalBrightnessChanged</a> (std::uint32_t)</td></tr>
<tr class="memdesc:affbeb1aee8ae80d2be553c4ccd501471"><td class="mdescLeft">&#160;</td><td class="mdescRight">brightness changed from <a class="el" href="class_global_brightness_widget.html" title="The GlobalBrightnessWidget is a widget that controls the brightness of all selected lights...">GlobalBrightnessWidget</a> <br /></td></tr>
<tr class="separator:affbeb1aee8ae80d2be553c4ccd501471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65aefc05f5cf1af235ec97b1bd020d12"><td class="memItemLeft" align="right" valign="top"><a id="a65aefc05f5cf1af235ec97b1bd020d12"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#a65aefc05f5cf1af235ec97b1bd020d12">isOnChanged</a> (bool)</td></tr>
<tr class="memdesc:a65aefc05f5cf1af235ec97b1bd020d12"><td class="mdescLeft">&#160;</td><td class="mdescRight">on/off changed from <a class="el" href="class_global_brightness_widget.html" title="The GlobalBrightnessWidget is a widget that controls the brightness of all selected lights...">GlobalBrightnessWidget</a> <br /></td></tr>
<tr class="separator:a65aefc05f5cf1af235ec97b1bd020d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e377899cf06bdb41df82d1d1a9993b"><td class="memItemLeft" align="right" valign="top"><a id="ae1e377899cf06bdb41df82d1d1a9993b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#ae1e377899cf06bdb41df82d1d1a9993b">singleLightBrightnessChanged</a> (std::uint32_t)</td></tr>
<tr class="memdesc:ae1e377899cf06bdb41df82d1d1a9993b"><td class="mdescLeft">&#160;</td><td class="mdescRight">brightness changed from <a class="el" href="class_single_light_brightness_widget.html" title="The SingleLightBrightnessWidget controls the brightness of a single light. This replaces the global b...">SingleLightBrightnessWidget</a> <br /></td></tr>
<tr class="separator:ae1e377899cf06bdb41df82d1d1a9993b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04d24d6ba037705a53117c56f7abdb2"><td class="memItemLeft" align="right" valign="top"><a id="aa04d24d6ba037705a53117c56f7abdb2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#aa04d24d6ba037705a53117c56f7abdb2">ambientColorChanged</a> (std::uint32_t, std::uint32_t)</td></tr>
<tr class="memdesc:aa04d24d6ba037705a53117c56f7abdb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">ambient color changed from color page <br /></td></tr>
<tr class="separator:aa04d24d6ba037705a53117c56f7abdb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a55384cb1e3820eb67a2cc5a78753e"><td class="memItemLeft" align="right" valign="top"><a id="a78a55384cb1e3820eb67a2cc5a78753e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#a78a55384cb1e3820eb67a2cc5a78753e">colorChanged</a> (QColor)</td></tr>
<tr class="memdesc:a78a55384cb1e3820eb67a2cc5a78753e"><td class="mdescLeft">&#160;</td><td class="mdescRight">color page changed from color page <br /></td></tr>
<tr class="separator:a78a55384cb1e3820eb67a2cc5a78753e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a555d6cbbee03b5c9db62c591051398ad"><td class="memItemLeft" align="right" valign="top"><a id="a555d6cbbee03b5c9db62c591051398ad"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#a555d6cbbee03b5c9db62c591051398ad">routineChanged</a> (ERoutine)</td></tr>
<tr class="memdesc:a555d6cbbee03b5c9db62c591051398ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">routine changed from routine widget <br /></td></tr>
<tr class="separator:a555d6cbbee03b5c9db62c591051398ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2ed27dc8711f4d3990edcba003ef14"><td class="memItemLeft" align="right" valign="top"><a id="acb2ed27dc8711f4d3990edcba003ef14"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#acb2ed27dc8711f4d3990edcba003ef14">paletteChanged</a> (EPalette)</td></tr>
<tr class="memdesc:acb2ed27dc8711f4d3990edcba003ef14"><td class="mdescLeft">&#160;</td><td class="mdescRight">palette changed from a palette widget <br /></td></tr>
<tr class="separator:acb2ed27dc8711f4d3990edcba003ef14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a8031efe919cc511a26592b9871e85"><td class="memItemLeft" align="right" valign="top"><a id="a90a8031efe919cc511a26592b9871e85"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#a90a8031efe919cc511a26592b9871e85">speedChanged</a> (std::uint32_t)</td></tr>
<tr class="memdesc:a90a8031efe919cc511a26592b9871e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">speed changed from a speed widget <br /></td></tr>
<tr class="separator:a90a8031efe919cc511a26592b9871e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c7db8a381eda75543c0520c5d62f5cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#a6c7db8a381eda75543c0520c5d62f5cc">updateScheme</a> (const std::vector&lt; QColor &gt; &amp;colors, std::uint32_t)</td></tr>
<tr class="memdesc:a6c7db8a381eda75543c0520c5d62f5cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">updateScheme update the color scheme chosen by the app  <a href="#a6c7db8a381eda75543c0520c5d62f5cc">More...</a><br /></td></tr>
<tr class="separator:a6c7db8a381eda75543c0520c5d62f5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab80cfa29327e97c470eb2966abc11c4f"><td class="memItemLeft" align="right" valign="top"><a id="ab80cfa29327e97c470eb2966abc11c4f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#ab80cfa29327e97c470eb2966abc11c4f">multiColorSelectionChange</a> (std::uint32_t index, const QColor &amp;color)</td></tr>
<tr class="memdesc:ab80cfa29327e97c470eb2966abc11c4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">the selection for the multi color picker changed <br /></td></tr>
<tr class="separator:ab80cfa29327e97c470eb2966abc11c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ad3ce1b6faf4b229c90b5b2fefc0a7"><td class="memItemLeft" align="right" valign="top"><a id="ad3ad3ce1b6faf4b229c90b5b2fefc0a7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#ad3ad3ce1b6faf4b229c90b5b2fefc0a7">colorSchemeTypeChanged</a> (EColorSchemeType scheme)</td></tr>
<tr class="memdesc:ad3ad3ce1b6faf4b229c90b5b2fefc0a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">color scheme changed <br /></td></tr>
<tr class="separator:ad3ad3ce1b6faf4b229c90b5b2fefc0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c7a7e5f61ff0e694840ccaf887ce03"><td class="memItemLeft" align="right" valign="top"><a id="a15c7a7e5f61ff0e694840ccaf887ce03"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#a15c7a7e5f61ff0e694840ccaf887ce03">moodChanged</a> (std::uint64_t mood)</td></tr>
<tr class="memdesc:a15c7a7e5f61ff0e694840ccaf887ce03"><td class="mdescLeft">&#160;</td><td class="mdescRight">mood changed from moodpage <br /></td></tr>
<tr class="separator:a15c7a7e5f61ff0e694840ccaf887ce03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94b5d6b93c407d118a5fae16718acbd"><td class="memItemLeft" align="right" valign="top"><a id="af94b5d6b93c407d118a5fae16718acbd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#af94b5d6b93c407d118a5fae16718acbd">protocolSettingsChanged</a> (EProtocolType, bool)</td></tr>
<tr class="memdesc:af94b5d6b93c407d118a5fae16718acbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">protocolsettings page changed from <a class="el" href="class_global_settings_widget.html" title="The GlobalSettingsWidget class is a widget for the settings page that contains all the advanced setti...">GlobalSettingsWidget</a> <br /></td></tr>
<tr class="separator:af94b5d6b93c407d118a5fae16718acbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea115916f3fa0a74387853ba7812ebd"><td class="memItemLeft" align="right" valign="top"><a id="a8ea115916f3fa0a74387853ba7812ebd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#a8ea115916f3fa0a74387853ba7812ebd">dataInSync</a> (bool)</td></tr>
<tr class="memdesc:a8ea115916f3fa0a74387853ba7812ebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">set if data is in sync or not <br /></td></tr>
<tr class="separator:a8ea115916f3fa0a74387853ba7812ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72409c02c7ef534f4bc440111ed4d37e"><td class="memItemLeft" align="right" valign="top"><a id="a72409c02c7ef534f4bc440111ed4d37e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#a72409c02c7ef534f4bc440111ed4d37e">lightCountChanged</a> ()</td></tr>
<tr class="memdesc:a72409c02c7ef534f4bc440111ed4d37e"><td class="mdescLeft">&#160;</td><td class="mdescRight">light count changed <br /></td></tr>
<tr class="separator:a72409c02c7ef534f4bc440111ed4d37e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2518b83e528cda354baa194ae9b53bf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#a2518b83e528cda354baa194ae9b53bf8">lightNameChange</a> (const QString &amp;key, const QString &amp;name)</td></tr>
<tr class="memdesc:a2518b83e528cda354baa194ae9b53bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">lightNameChange change the name of a widget given the key and the new name.  <a href="#a2518b83e528cda354baa194ae9b53bf8">More...</a><br /></td></tr>
<tr class="separator:a2518b83e528cda354baa194ae9b53bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad988bf9d91a0d52c60764b6c9bd5aefc"><td class="memItemLeft" align="right" valign="top"><a id="ad988bf9d91a0d52c60764b6c9bd5aefc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#ad988bf9d91a0d52c60764b6c9bd5aefc">deleteLight</a> (const QString &amp;uniqueID)</td></tr>
<tr class="memdesc:ad988bf9d91a0d52c60764b6c9bd5aefc"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete a light by unique ID. This deletes the light from memory. <br /></td></tr>
<tr class="separator:ad988bf9d91a0d52c60764b6c9bd5aefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abc9aa252d56748b16728240961d6a769"><td class="memItemLeft" align="right" valign="top"><a id="abc9aa252d56748b16728240961d6a769"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcor_1_1_state_observer.html#abc9aa252d56748b16728240961d6a769">StateObserver</a> (<a class="el" href="classcor_1_1_light_list.html">cor::LightList</a> *data, <a class="el" href="class_comm_layer.html">CommLayer</a> *comm, <a class="el" href="class_group_data.html">GroupData</a> *groups, <a class="el" href="class_main_window.html">MainWindow</a> *mainWindow, <a class="el" href="class_top_menu.html">TopMenu</a> *topMenu, QObject *parent)</td></tr>
<tr class="memdesc:abc9aa252d56748b16728240961d6a769"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor <br /></td></tr>
<tr class="separator:abc9aa252d56748b16728240961d6a769"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 2015 - 2020. Released under the GNU General Public License.</dd></dl>
<p>This class exists to simplify app design. Before its existence, if the user wanted to select a color from the <a class="el" href="class_color_page.html" title="The ColorPage provides a way to change the color of the lights selected in the app. ">ColorPage</a>, they also needed to query the <a class="el" href="class_routine_buttons_widget.html" title="The RoutineButtonsWidget class is a basic widget that holds a grid of lightsbuttons that each map to ...">RoutineButtonsWidget</a> to check what routine to use, and in some cases, the <a class="el" href="class_global_brightness_widget.html" title="The GlobalBrightnessWidget is a widget that controls the brightness of all selected lights...">GlobalBrightnessWidget</a> to check how bright the lights should be. This class allows widgets to have less relationships with each other, and instead, theres one class that pays attention to everyone and resolves the complex relationships. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2518b83e528cda354baa194ae9b53bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2518b83e528cda354baa194ae9b53bf8">&#9670;&nbsp;</a></span>lightNameChange</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cor::StateObserver::lightNameChange </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the key for the light </td></tr>
    <tr><td class="paramname">name</td><td>the new name for the light. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c7db8a381eda75543c0520c5d62f5cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c7db8a381eda75543c0520c5d62f5cc">&#9670;&nbsp;</a></span>updateScheme</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cor::StateObserver::updateScheme </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; QColor &gt; &amp;&#160;</td>
          <td class="paramname"><em>colors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint32_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colors</td><td>the colors to use in the new color scheme </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="stateobserver_8h_source.html">stateobserver.h</a></li>
<li>stateobserver.cpp</li>
</ul>
</div><!-- contents -->

<hr>
<table style="width:100%">
  <tr>
    <td>
      <p align="left">
      <small>
          &nbsp; &nbsp; Corluma Copyright 2015 - 2020  &nbsp; &nbsp; <br>
          &nbsp; &nbsp; All Rights GPL v3.0 Licensed.  &nbsp; &nbsp;
       </small>
       </p>
    </td>
    <td>
      <p align="right">
      <small>
          &nbsp; &nbsp;  Generated by doxygen &nbsp; &nbsp;
       </small>
       </p>
    </td>
  </tr>
</table>
