<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Corluma: commtype.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="CSS_Corluma.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Corluma
   &#160;<span id="projectnumber">v0.10.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d0537398ec3fe72d8d4f5c6709d28acc.html">comm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">commtype.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#ifndef COMMTYPE_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#define COMMTYPE_H</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;QString&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;QList&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;QSettings&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;QDebug&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;QWidget&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;QTime&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;QTimer&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;lightdevice.h&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;crccalculator.h&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="struct_s_device_controller.html">   30</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_s_device_controller.html">SDeviceController</a> {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="struct_s_device_controller.html#ac63ecbce9db180677867ce8e01b95f98">   33</a></span>&#160;    QString <a class="code" href="struct_s_device_controller.html#ac63ecbce9db180677867ce8e01b95f98">name</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="struct_s_device_controller.html#a85e3c136419db9d6a7e1670a9d1faac9">   36</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_device_controller.html#a85e3c136419db9d6a7e1670a9d1faac9">maxHardwareIndex</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="struct_s_device_controller.html#affb299781bb5f3463b2e9a935fafdfe6">   39</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="struct_s_device_controller.html#affb299781bb5f3463b2e9a935fafdfe6">isUsingCRC</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="struct_s_device_controller.html#a289a94cea669a39354a2da52fcbf0050">   42</a></span>&#160;    uint32_t <a class="code" href="struct_s_device_controller.html#a289a94cea669a39354a2da52fcbf0050">maxPacketSize</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_s_device_controller.html#a117524d6253bbaa9112cff6582c9c19b">   45</a></span>&#160;    QString <a class="code" href="struct_s_device_controller.html#a117524d6253bbaa9112cff6582c9c19b">to_string</a>() {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        QString <span class="keywordtype">string</span> = name + <span class="stringliteral">&quot;\r\n maxHardwareIndex: &quot;</span> + QString::number(maxHardwareIndex) + <span class="stringliteral">&quot; \r\n CRC: &quot;</span> + QString::number(isUsingCRC) + <span class="stringliteral">&quot; \r\n maxPacketSize: &quot;</span> + QString::number(maxPacketSize);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordflow">return</span> string;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;};</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> <a class="code" href="struct_s_device_controller.html">SDeviceController</a>&amp; lhs, <span class="keyword">const</span> <a class="code" href="struct_s_device_controller.html">SDeviceController</a>&amp; rhs)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (lhs.<a class="code" href="struct_s_device_controller.html#ac63ecbce9db180677867ce8e01b95f98">name</a>.compare(rhs.<a class="code" href="struct_s_device_controller.html#ac63ecbce9db180677867ce8e01b95f98">name</a>)) result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (lhs.<a class="code" href="struct_s_device_controller.html#a85e3c136419db9d6a7e1670a9d1faac9">maxHardwareIndex</a>    !=  rhs.<a class="code" href="struct_s_device_controller.html#a85e3c136419db9d6a7e1670a9d1faac9">maxHardwareIndex</a>) result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (lhs.<a class="code" href="struct_s_device_controller.html#affb299781bb5f3463b2e9a935fafdfe6">isUsingCRC</a>          !=  rhs.<a class="code" href="struct_s_device_controller.html#affb299781bb5f3463b2e9a935fafdfe6">isUsingCRC</a>) result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="class_comm_type.html">   68</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_comm_type.html">CommType</a> : <span class="keyword">public</span> QWidget {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    Q_OBJECT</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="class_comm_type.html#aea9af432f13faf2a28b6a9fd5d5000e9">   74</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="class_comm_type.html#aea9af432f13faf2a28b6a9fd5d5000e9">~CommType</a>(){}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// Virtual Functions</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#a78d309086195c52051f007e693ff2b7a">startup</a>() = 0;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#ad2a24398eeaafa49cd376cb09be961ef">shutdown</a>() = 0;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="class_comm_type.html#ace6d7465b678fc3daf1e9580d331c8dc">   97</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#ace6d7465b678fc3daf1e9580d331c8dc">hasStarted</a>() { <span class="keywordflow">return</span> <a class="code" href="class_comm_type.html#a47a3020ab06d49b995e22c7b4567017e">mHasStarted</a>; }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#a937222fbbe69a6485a18fe2ba1d58a5f">sendPacket</a>(<a class="code" href="struct_s_device_controller.html">SDeviceController</a> controller, QString packet) = 0;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// Mode Management</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#a3ee085c089155c088acd4ebb4ed41b4f">startDiscovery</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#ab0e83c722a3afb0c1ceda26c55c76e85">stopDiscovery</a>();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="class_comm_type.html#ab5b5c67a3a87429a342fb9e82cdcaf6d">  129</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#ab5b5c67a3a87429a342fb9e82cdcaf6d">runningDiscovery</a>() { <span class="keywordflow">return</span> <a class="code" href="class_comm_type.html#afcc75099b138addb3dc35692e819eabe">mDiscoveryMode</a>; }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#ae92c228926c3214a78e12d3519102555">resetStateUpdateTimeout</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#a684c569bb57248ae4b0b2e4563339f74">stopStateUpdates</a>();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// Controller and Device Management</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#a92bed4ee74af1ae3a9b5d007fe878524">startDiscoveringController</a>(QString controller);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#ae92edbc5226b05f4767a8650ac713ac5">removeController</a>(<a class="code" href="struct_s_device_controller.html">SDeviceController</a> controller);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#af821394409188dff6275f2810ca799ad">updateDevice</a>(SLightDevice device);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#a4d82da9a4b796ccb66d9d5c155e082e1">fillDevice</a>(SLightDevice&amp; device);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="class_comm_type.html#acb1865d11bc8e1f01a925ed68e284691">  178</a></span>&#160;    <span class="keyword">const</span> std::unordered_map&lt;std::string, std::list&lt;SLightDevice&gt; &gt;&amp; <a class="code" href="class_comm_type.html#acb1865d11bc8e1f01a925ed68e284691">deviceTable</a>() { <span class="keywordflow">return</span> <a class="code" href="class_comm_type.html#ab17df6d25cf2db9d844945d6f135e65c">mDeviceTable</a>; }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="class_comm_type.html#a1ec827112012957f7a7efb36d6fef94f">  184</a></span>&#160;    <span class="keyword">const</span> std::list&lt;SDeviceController&gt;&amp; <a class="code" href="class_comm_type.html#a1ec827112012957f7a7efb36d6fef94f">discoveredList</a>() { <span class="keywordflow">return</span> <a class="code" href="class_comm_type.html#a9daeb935ad4de1f56f246ae1d04157dc">mDiscoveredList</a>; }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="class_comm_type.html#a2a23c71147fb8b134d56969281486f2f">  190</a></span>&#160;    std::list&lt;QString&gt; <a class="code" href="class_comm_type.html#a2a23c71147fb8b134d56969281486f2f">undiscoveredList</a>() { <span class="keywordflow">return</span> <a class="code" href="class_comm_type.html#a02ec483a63cf7b4946653ca8dea9ae46">mUndiscoveredList</a>; }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// Persistent Connection list Handling</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// Each CommType stores its own list of up to 5 possible connections</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// in its mList object. This is saved into persistent data and will</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// reload every time the program is started up.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#aaa25ac27d5bdb85a13b8d461ca1a960c">setupConnectionList</a>(ECommType type);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#acf39ac1fbdab41338549ea9010ed0f91">saveConnectionList</a>();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// SDeviceController helpers</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#a947fb8ccab594d6177e861e096795414">deviceControllerFromDiscoveryString</a>(QString discovery, QString controllerName, <a class="code" href="struct_s_device_controller.html">SDeviceController</a>&amp; controller);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#a1b985f6292f611420c73a5d14f29de30">findDiscoveredController</a>(QString controllerName, <a class="code" href="struct_s_device_controller.html">SDeviceController</a>&amp; output);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#aae7e4f61858d208f0832d737819cc93a">handleIncomingPacket</a>(QString controllerName, QString payload);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;signals:</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#a9186f5c260b29ec24d0e1666191afbf6">packetReceived</a>(QString, QString, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#ac61ed4af1b52a921138f7f97e5d15b9e">updateReceived</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordtype">void</span> preparePacketForTransmission(<span class="keyword">const</span> <a class="code" href="struct_s_device_controller.html">SDeviceController</a>&amp; controller, QString&amp; packet);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#adb4143fad9f0cad9b4e0efff68614bf1">resetDiscovery</a>();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#a140fb846eeb4d24976e2a4f514f95f0f">shouldContinueStateUpdate</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="class_comm_type.html#a93d86e18ed75c62c422d727cc4e25b8c">  278</a></span>&#160;    QTime <a class="code" href="class_comm_type.html#a93d86e18ed75c62c422d727cc4e25b8c">mLastSendTime</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_comm_type.html#ae93d4f182250a259f6a551e9a77ea2a6">handleDiscoveryPacket</a>(<a class="code" href="struct_s_device_controller.html">SDeviceController</a> sender);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="class_comm_type.html#a6c1a32e29697d8b08401a04b91921d85">  293</a></span>&#160;    <a class="code" href="class_c_r_c_calculator.html">CRCCalculator</a> <a class="code" href="class_comm_type.html#a6c1a32e29697d8b08401a04b91921d85">mCRC</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="class_comm_type.html#a079be5b6039a73ab74f242f834702d99">  296</a></span>&#160;    uint32_t <a class="code" href="class_comm_type.html#a079be5b6039a73ab74f242f834702d99">mStateUpdateCounter</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="class_comm_type.html#ad8c1f60fe67e3e018ee772d8d8e7a3f8">  302</a></span>&#160;    uint32_t <a class="code" href="class_comm_type.html#ad8c1f60fe67e3e018ee772d8d8e7a3f8">mSecondaryUpdatesInterval</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="class_comm_type.html#ab17df6d25cf2db9d844945d6f135e65c">  308</a></span>&#160;    std::unordered_map&lt;std::string, std::list&lt;SLightDevice&gt; &gt; <a class="code" href="class_comm_type.html#ab17df6d25cf2db9d844945d6f135e65c">mDeviceTable</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="class_comm_type.html#a02ec483a63cf7b4946653ca8dea9ae46">  314</a></span>&#160;    std::list&lt;QString&gt; <a class="code" href="class_comm_type.html#a02ec483a63cf7b4946653ca8dea9ae46">mUndiscoveredList</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="class_comm_type.html#a9daeb935ad4de1f56f246ae1d04157dc">  319</a></span>&#160;    std::list&lt;SDeviceController&gt; <a class="code" href="class_comm_type.html#a9daeb935ad4de1f56f246ae1d04157dc">mDiscoveredList</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="class_comm_type.html#a5fad0675d5baa960558751025bc5ec3a">  325</a></span>&#160;    QTimer *<a class="code" href="class_comm_type.html#a5fad0675d5baa960558751025bc5ec3a">mStateUpdateTimer</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="class_comm_type.html#afe98ed3a9a537c126fcebdb6ac109a09">  330</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_comm_type.html#afe98ed3a9a537c126fcebdb6ac109a09">mStateUpdateInterval</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="class_comm_type.html#ab283071f18b76741c90a25a06e61c763">  335</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_comm_type.html#ab283071f18b76741c90a25a06e61c763">mDiscoveryUpdateInterval</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="class_comm_type.html#a53ba509a1aa972b772c1c6f8f074a1cb">  340</a></span>&#160;    QTimer *<a class="code" href="class_comm_type.html#a53ba509a1aa972b772c1c6f8f074a1cb">mDiscoveryTimer</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="class_comm_type.html#aed07e124f1bb8819e0452cb2621e5629">  346</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_comm_type.html#aed07e124f1bb8819e0452cb2621e5629">mUpdateTimeoutInterval</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="class_comm_type.html#afcc75099b138addb3dc35692e819eabe">  352</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#afcc75099b138addb3dc35692e819eabe">mDiscoveryMode</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="class_comm_type.html#a2e8ea9e88347922939c9823e0f1488ea">  359</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#a2e8ea9e88347922939c9823e0f1488ea">mFullyDiscovered</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="class_comm_type.html#a47a3020ab06d49b995e22c7b4567017e">  365</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_comm_type.html#a47a3020ab06d49b995e22c7b4567017e">mHasStarted</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="class_comm_type.html#a932133199df9b51ff3a368009e1b6d53">  368</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> QString <a class="code" href="class_comm_type.html#a932133199df9b51ff3a368009e1b6d53">kDiscoveryPacketIdentifier</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// Connection List Helpers</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    QString settingsIndexKey(<span class="keywordtype">int</span> index);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    QString settingsListSizeKey();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordtype">bool</span> checkIfControllerIsValid(QString controller);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">// Connection List Variables</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// ----------------------------</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    QSettings *mSettings;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    ECommType mType;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;};</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#endif // COMMTYPE_H</span></div>
<div class="ttc" id="struct_s_device_controller_html"><div class="ttname"><a href="struct_s_device_controller.html">SDeviceController</a></div><div class="ttdoc">The SDeviceController struct stores information about a Controller. A controller allows control of on...</div><div class="ttdef"><b>Definition:</b> commtype.h:30</div></div>
<div class="ttc" id="class_comm_type_html_ae92edbc5226b05f4767a8650ac713ac5"><div class="ttname"><a href="class_comm_type.html#ae92edbc5226b05f4767a8650ac713ac5">CommType::removeController</a></div><div class="ttdeci">bool removeController(SDeviceController controller)</div><div class="ttdoc">removeController attempts to remove the controller from the device table. </div><div class="ttdef"><b>Definition:</b> commtype.cpp:67</div></div>
<div class="ttc" id="class_comm_type_html_a3ee085c089155c088acd4ebb4ed41b4f"><div class="ttname"><a href="class_comm_type.html#a3ee085c089155c088acd4ebb4ed41b4f">CommType::startDiscovery</a></div><div class="ttdeci">void startDiscovery()</div><div class="ttdoc">startDiscovery start sending discovery packets if needed, and continually request state update packet...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:39</div></div>
<div class="ttc" id="struct_s_device_controller_html_a117524d6253bbaa9112cff6582c9c19b"><div class="ttname"><a href="struct_s_device_controller.html#a117524d6253bbaa9112cff6582c9c19b">SDeviceController::to_string</a></div><div class="ttdeci">QString to_string()</div><div class="ttdoc">creates a debug string for Controllers </div><div class="ttdef"><b>Definition:</b> commtype.h:45</div></div>
<div class="ttc" id="class_comm_type_html_a92bed4ee74af1ae3a9b5d007fe878524"><div class="ttname"><a href="class_comm_type.html#a92bed4ee74af1ae3a9b5d007fe878524">CommType::startDiscoveringController</a></div><div class="ttdeci">bool startDiscoveringController(QString controller)</div><div class="ttdoc">startDiscoveringController attempts to add a new controller to the device table. </div><div class="ttdef"><b>Definition:</b> commtype.cpp:50</div></div>
<div class="ttc" id="class_comm_type_html_ad8c1f60fe67e3e018ee772d8d8e7a3f8"><div class="ttname"><a href="class_comm_type.html#ad8c1f60fe67e3e018ee772d8d8e7a3f8">CommType::mSecondaryUpdatesInterval</a></div><div class="ttdeci">uint32_t mSecondaryUpdatesInterval</div><div class="ttdef"><b>Definition:</b> commtype.h:302</div></div>
<div class="ttc" id="class_comm_type_html_adb4143fad9f0cad9b4e0efff68614bf1"><div class="ttname"><a href="class_comm_type.html#adb4143fad9f0cad9b4e0efff68614bf1">CommType::resetDiscovery</a></div><div class="ttdeci">void resetDiscovery()</div><div class="ttdoc">resetDiscovery clears the throttle list and discovery list and treats the commtype as if nothing has ...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:151</div></div>
<div class="ttc" id="class_comm_type_html_a079be5b6039a73ab74f242f834702d99"><div class="ttname"><a href="class_comm_type.html#a079be5b6039a73ab74f242f834702d99">CommType::mStateUpdateCounter</a></div><div class="ttdeci">uint32_t mStateUpdateCounter</div><div class="ttdoc">number of state updates sent out </div><div class="ttdef"><b>Definition:</b> commtype.h:296</div></div>
<div class="ttc" id="struct_s_device_controller_html_a289a94cea669a39354a2da52fcbf0050"><div class="ttname"><a href="struct_s_device_controller.html#a289a94cea669a39354a2da52fcbf0050">SDeviceController::maxPacketSize</a></div><div class="ttdeci">uint32_t maxPacketSize</div><div class="ttdoc">max number of bytes for a packet. </div><div class="ttdef"><b>Definition:</b> commtype.h:42</div></div>
<div class="ttc" id="class_comm_type_html_a5fad0675d5baa960558751025bc5ec3a"><div class="ttname"><a href="class_comm_type.html#a5fad0675d5baa960558751025bc5ec3a">CommType::mStateUpdateTimer</a></div><div class="ttdeci">QTimer * mStateUpdateTimer</div><div class="ttdoc">mStateUpdateTimer Polls the controller every few seconds requesting updates on all of its devices...</div><div class="ttdef"><b>Definition:</b> commtype.h:325</div></div>
<div class="ttc" id="struct_s_device_controller_html_affb299781bb5f3463b2e9a935fafdfe6"><div class="ttname"><a href="struct_s_device_controller.html#affb299781bb5f3463b2e9a935fafdfe6">SDeviceController::isUsingCRC</a></div><div class="ttdeci">bool isUsingCRC</div><div class="ttdoc">true if using CRC and appending to packets, false otherwise </div><div class="ttdef"><b>Definition:</b> commtype.h:39</div></div>
<div class="ttc" id="class_comm_type_html_ab17df6d25cf2db9d844945d6f135e65c"><div class="ttname"><a href="class_comm_type.html#ab17df6d25cf2db9d844945d6f135e65c">CommType::mDeviceTable</a></div><div class="ttdeci">std::unordered_map&lt; std::string, std::list&lt; SLightDevice &gt; &gt; mDeviceTable</div><div class="ttdoc">mDeviceTable hash table of all available devices. the hash key is the controller name and the list as...</div><div class="ttdef"><b>Definition:</b> commtype.h:308</div></div>
<div class="ttc" id="class_comm_type_html_afcc75099b138addb3dc35692e819eabe"><div class="ttname"><a href="class_comm_type.html#afcc75099b138addb3dc35692e819eabe">CommType::mDiscoveryMode</a></div><div class="ttdeci">bool mDiscoveryMode</div><div class="ttdoc">mDiscoveryMode true if all discovery and state update threads for the commtype should be active...</div><div class="ttdef"><b>Definition:</b> commtype.h:352</div></div>
<div class="ttc" id="class_comm_type_html_a93d86e18ed75c62c422d727cc4e25b8c"><div class="ttname"><a href="class_comm_type.html#a93d86e18ed75c62c422d727cc4e25b8c">CommType::mLastSendTime</a></div><div class="ttdeci">QTime mLastSendTime</div><div class="ttdoc">mLastSendTime the last time a message was sent to the commtype. This is tracked to detect when the de...</div><div class="ttdef"><b>Definition:</b> commtype.h:278</div></div>
<div class="ttc" id="struct_s_device_controller_html_a85e3c136419db9d6a7e1670a9d1faac9"><div class="ttname"><a href="struct_s_device_controller.html#a85e3c136419db9d6a7e1670a9d1faac9">SDeviceController::maxHardwareIndex</a></div><div class="ttdeci">int maxHardwareIndex</div><div class="ttdoc">maximum number of devices controller can control </div><div class="ttdef"><b>Definition:</b> commtype.h:36</div></div>
<div class="ttc" id="class_comm_type_html_a2e8ea9e88347922939c9823e0f1488ea"><div class="ttname"><a href="class_comm_type.html#a2e8ea9e88347922939c9823e0f1488ea">CommType::mFullyDiscovered</a></div><div class="ttdeci">bool mFullyDiscovered</div><div class="ttdoc">mFullyDiscovered bool that tracks whether or not all the controllers the commtype is looking for have...</div><div class="ttdef"><b>Definition:</b> commtype.h:359</div></div>
<div class="ttc" id="class_comm_type_html_aaa25ac27d5bdb85a13b8d461ca1a960c"><div class="ttname"><a href="class_comm_type.html#aaa25ac27d5bdb85a13b8d461ca1a960c">CommType::setupConnectionList</a></div><div class="ttdeci">void setupConnectionList(ECommType type)</div><div class="ttdoc">setupConnectionList initializes the connection list and reloads it from system memory, if needed </div><div class="ttdef"><b>Definition:</b> commtype.cpp:10</div></div>
<div class="ttc" id="class_comm_type_html_ad2a24398eeaafa49cd376cb09be961ef"><div class="ttname"><a href="class_comm_type.html#ad2a24398eeaafa49cd376cb09be961ef">CommType::shutdown</a></div><div class="ttdeci">virtual void shutdown()=0</div><div class="ttdoc">shutdown turns off all threads that maintain the connection and check for changes. Also shuts down any discovery threads, if they are currently running. </div></div>
<div class="ttc" id="class_comm_type_html_a1ec827112012957f7a7efb36d6fef94f"><div class="ttname"><a href="class_comm_type.html#a1ec827112012957f7a7efb36d6fef94f">CommType::discoveredList</a></div><div class="ttdeci">const std::list&lt; SDeviceController &gt; &amp; discoveredList()</div><div class="ttdoc">discoveredList getter for list of discovered devices </div><div class="ttdef"><b>Definition:</b> commtype.h:184</div></div>
<div class="ttc" id="class_comm_type_html_a1b985f6292f611420c73a5d14f29de30"><div class="ttname"><a href="class_comm_type.html#a1b985f6292f611420c73a5d14f29de30">CommType::findDiscoveredController</a></div><div class="ttdeci">bool findDiscoveredController(QString controllerName, SDeviceController &amp;output)</div><div class="ttdoc">findDiscoveredController checks for a discovered controller with the given name. Returns true and fil...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:259</div></div>
<div class="ttc" id="class_comm_type_html_a9186f5c260b29ec24d0e1666191afbf6"><div class="ttname"><a href="class_comm_type.html#a9186f5c260b29ec24d0e1666191afbf6">CommType::packetReceived</a></div><div class="ttdeci">void packetReceived(QString, QString, int)</div><div class="ttdoc">packetReceived emitted whenever a packet that is not a discovery packet is received. Contains the full packet&#39;s contents as a QString. </div></div>
<div class="ttc" id="class_comm_type_html_a684c569bb57248ae4b0b2e4563339f74"><div class="ttname"><a href="class_comm_type.html#a684c569bb57248ae4b0b2e4563339f74">CommType::stopStateUpdates</a></div><div class="ttdeci">void stopStateUpdates()</div><div class="ttdoc">stopStateUpdates turn off the state update timers. </div><div class="ttdef"><b>Definition:</b> commtype.cpp:164</div></div>
<div class="ttc" id="class_comm_type_html_ae93d4f182250a259f6a551e9a77ea2a6"><div class="ttname"><a href="class_comm_type.html#ae93d4f182250a259f6a551e9a77ea2a6">CommType::handleDiscoveryPacket</a></div><div class="ttdeci">void handleDiscoveryPacket(SDeviceController sender)</div><div class="ttdoc">handleDiscoveryPacket called whenever a discovery packet is received by a commtype. Although all commtypes may received a packet in different ways or in differnt formats, all ways get converted so that they work with this function. The function determines if the device sending the discovery packet has been discovered already, and if it hasn&#39;t, it adds it to its list. It also initiates a throttle timer for this particular controller. Finally, it determines if its looking for any other controllers, and if its not, it shuts off the discovery timer. </div><div class="ttdef"><b>Definition:</b> commtype.cpp:179</div></div>
<div class="ttc" id="class_comm_type_html_af821394409188dff6275f2810ca799ad"><div class="ttname"><a href="class_comm_type.html#af821394409188dff6275f2810ca799ad">CommType::updateDevice</a></div><div class="ttdeci">void updateDevice(SLightDevice device)</div><div class="ttdoc">updateDevice update all the data in the light device that matches the same controller and index...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:75</div></div>
<div class="ttc" id="class_comm_type_html_a9daeb935ad4de1f56f246ae1d04157dc"><div class="ttname"><a href="class_comm_type.html#a9daeb935ad4de1f56f246ae1d04157dc">CommType::mDiscoveredList</a></div><div class="ttdeci">std::list&lt; SDeviceController &gt; mDiscoveredList</div><div class="ttdoc">mDiscoveredList list of devices that have been discovered properly. </div><div class="ttdef"><b>Definition:</b> commtype.h:319</div></div>
<div class="ttc" id="class_c_r_c_calculator_html"><div class="ttname"><a href="class_c_r_c_calculator.html">CRCCalculator</a></div><div class="ttdef"><b>Definition:</b> crccalculator.h:18</div></div>
<div class="ttc" id="class_comm_type_html_ab0e83c722a3afb0c1ceda26c55c76e85"><div class="ttname"><a href="class_comm_type.html#ab0e83c722a3afb0c1ceda26c55c76e85">CommType::stopDiscovery</a></div><div class="ttdeci">void stopDiscovery()</div><div class="ttdoc">stopDiscovery stop sending discovery packets and go back to requesting state update packets only when...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:46</div></div>
<div class="ttc" id="class_comm_type_html_a6c1a32e29697d8b08401a04b91921d85"><div class="ttname"><a href="class_comm_type.html#a6c1a32e29697d8b08401a04b91921d85">CommType::mCRC</a></div><div class="ttdeci">CRCCalculator mCRC</div><div class="ttdoc">used to add CRC to outgoing packets. </div><div class="ttdef"><b>Definition:</b> commtype.h:293</div></div>
<div class="ttc" id="class_comm_type_html_a53ba509a1aa972b772c1c6f8f074a1cb"><div class="ttname"><a href="class_comm_type.html#a53ba509a1aa972b772c1c6f8f074a1cb">CommType::mDiscoveryTimer</a></div><div class="ttdeci">QTimer * mDiscoveryTimer</div><div class="ttdoc">mDiscoveryTimer used during discovery to poll the device every few seconds. </div><div class="ttdef"><b>Definition:</b> commtype.h:340</div></div>
<div class="ttc" id="class_comm_type_html_a02ec483a63cf7b4946653ca8dea9ae46"><div class="ttname"><a href="class_comm_type.html#a02ec483a63cf7b4946653ca8dea9ae46">CommType::mUndiscoveredList</a></div><div class="ttdeci">std::list&lt; QString &gt; mUndiscoveredList</div><div class="ttdoc">mUndiscoveredList list of controllers that are not currently discovered but are running discovery rou...</div><div class="ttdef"><b>Definition:</b> commtype.h:314</div></div>
<div class="ttc" id="class_comm_type_html_a932133199df9b51ff3a368009e1b6d53"><div class="ttname"><a href="class_comm_type.html#a932133199df9b51ff3a368009e1b6d53">CommType::kDiscoveryPacketIdentifier</a></div><div class="ttdeci">static const QString kDiscoveryPacketIdentifier</div><div class="ttdoc">string at the beginning of each discovery packet. </div><div class="ttdef"><b>Definition:</b> commtype.h:368</div></div>
<div class="ttc" id="class_comm_type_html_aae7e4f61858d208f0832d737819cc93a"><div class="ttname"><a href="class_comm_type.html#aae7e4f61858d208f0832d737819cc93a">CommType::handleIncomingPacket</a></div><div class="ttdeci">void handleIncomingPacket(QString controllerName, QString payload)</div><div class="ttdoc">handleIncomingPacket All packets that are sent to any commtype get sent through this function to be s...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:270</div></div>
<div class="ttc" id="class_comm_type_html_a937222fbbe69a6485a18fe2ba1d58a5f"><div class="ttname"><a href="class_comm_type.html#a937222fbbe69a6485a18fe2ba1d58a5f">CommType::sendPacket</a></div><div class="ttdeci">virtual void sendPacket(SDeviceController controller, QString packet)=0</div><div class="ttdoc">sendPacket Sends the provided string over the connection stream. </div></div>
<div class="ttc" id="class_comm_type_html_aed07e124f1bb8819e0452cb2621e5629"><div class="ttname"><a href="class_comm_type.html#aed07e124f1bb8819e0452cb2621e5629">CommType::mUpdateTimeoutInterval</a></div><div class="ttdeci">int mUpdateTimeoutInterval</div><div class="ttdoc">mUpdateTimeoutInterval number of msec that it takes the state update timer to time out and stop sendi...</div><div class="ttdef"><b>Definition:</b> commtype.h:346</div></div>
<div class="ttc" id="class_comm_type_html_a140fb846eeb4d24976e2a4f514f95f0f"><div class="ttname"><a href="class_comm_type.html#a140fb846eeb4d24976e2a4f514f95f0f">CommType::shouldContinueStateUpdate</a></div><div class="ttdeci">bool shouldContinueStateUpdate()</div><div class="ttdoc">shouldContinueStateUpdate checks internal states and determines if it should still keep requesting st...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:171</div></div>
<div class="ttc" id="class_comm_type_html_a947fb8ccab594d6177e861e096795414"><div class="ttname"><a href="class_comm_type.html#a947fb8ccab594d6177e861e096795414">CommType::deviceControllerFromDiscoveryString</a></div><div class="ttdeci">bool deviceControllerFromDiscoveryString(QString discovery, QString controllerName, SDeviceController &amp;controller)</div><div class="ttdoc">deviceControllerFromDiscoveryString takes a discovery string, a controller name, and an empty SDevice...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:210</div></div>
<div class="ttc" id="class_comm_type_html_afe98ed3a9a537c126fcebdb6ac109a09"><div class="ttname"><a href="class_comm_type.html#afe98ed3a9a537c126fcebdb6ac109a09">CommType::mStateUpdateInterval</a></div><div class="ttdeci">int mStateUpdateInterval</div><div class="ttdoc">mStateUpdateInterval number of msec between each state update request. </div><div class="ttdef"><b>Definition:</b> commtype.h:330</div></div>
<div class="ttc" id="class_comm_type_html_a78d309086195c52051f007e693ff2b7a"><div class="ttname"><a href="class_comm_type.html#a78d309086195c52051f007e693ff2b7a">CommType::startup</a></div><div class="ttdeci">virtual void startup()=0</div><div class="ttdoc">startup Each comm type has a series of threads that maintain the connection and check for changes...</div></div>
<div class="ttc" id="class_comm_type_html_acb1865d11bc8e1f01a925ed68e284691"><div class="ttname"><a href="class_comm_type.html#acb1865d11bc8e1f01a925ed68e284691">CommType::deviceTable</a></div><div class="ttdeci">const std::unordered_map&lt; std::string, std::list&lt; SLightDevice &gt; &gt; &amp; deviceTable()</div><div class="ttdoc">deviceList list of the light devices </div><div class="ttdef"><b>Definition:</b> commtype.h:178</div></div>
<div class="ttc" id="class_comm_type_html_aea9af432f13faf2a28b6a9fd5d5000e9"><div class="ttname"><a href="class_comm_type.html#aea9af432f13faf2a28b6a9fd5d5000e9">CommType::~CommType</a></div><div class="ttdeci">virtual ~CommType()</div><div class="ttdoc">~CommType Deconstructor </div><div class="ttdef"><b>Definition:</b> commtype.h:74</div></div>
<div class="ttc" id="class_comm_type_html_a2a23c71147fb8b134d56969281486f2f"><div class="ttname"><a href="class_comm_type.html#a2a23c71147fb8b134d56969281486f2f">CommType::undiscoveredList</a></div><div class="ttdeci">std::list&lt; QString &gt; undiscoveredList()</div><div class="ttdoc">undiscoveredList getter for list of undiscovered devices. </div><div class="ttdef"><b>Definition:</b> commtype.h:190</div></div>
<div class="ttc" id="class_comm_type_html_acf39ac1fbdab41338549ea9010ed0f91"><div class="ttname"><a href="class_comm_type.html#acf39ac1fbdab41338549ea9010ed0f91">CommType::saveConnectionList</a></div><div class="ttdeci">void saveConnectionList()</div><div class="ttdoc">saveConnectionList must be called by deconstructors, saves the connection list to the app&#39;s persisten...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:129</div></div>
<div class="ttc" id="class_comm_type_html"><div class="ttname"><a href="class_comm_type.html">CommType</a></div><div class="ttdoc">inherited by comm types, provides a general interface that can be used to do connections and sending ...</div><div class="ttdef"><b>Definition:</b> commtype.h:68</div></div>
<div class="ttc" id="struct_s_device_controller_html_ac63ecbce9db180677867ce8e01b95f98"><div class="ttname"><a href="struct_s_device_controller.html#ac63ecbce9db180677867ce8e01b95f98">SDeviceController::name</a></div><div class="ttdeci">QString name</div><div class="ttdoc">name of controller </div><div class="ttdef"><b>Definition:</b> commtype.h:33</div></div>
<div class="ttc" id="class_comm_type_html_ae92c228926c3214a78e12d3519102555"><div class="ttname"><a href="class_comm_type.html#ae92c228926c3214a78e12d3519102555">CommType::resetStateUpdateTimeout</a></div><div class="ttdeci">void resetStateUpdateTimeout()</div><div class="ttdoc">resetStateUpdateTimeout reset the timer tracking when to shutdown the state update thread...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:157</div></div>
<div class="ttc" id="class_comm_type_html_a47a3020ab06d49b995e22c7b4567017e"><div class="ttname"><a href="class_comm_type.html#a47a3020ab06d49b995e22c7b4567017e">CommType::mHasStarted</a></div><div class="ttdeci">bool mHasStarted</div><div class="ttdoc">mHasStarted bool that tracks whether or not the startup() routine has been called. Gets set to false after the shutdown() routine is callsed. </div><div class="ttdef"><b>Definition:</b> commtype.h:365</div></div>
<div class="ttc" id="class_comm_type_html_ab5b5c67a3a87429a342fb9e82cdcaf6d"><div class="ttname"><a href="class_comm_type.html#ab5b5c67a3a87429a342fb9e82cdcaf6d">CommType::runningDiscovery</a></div><div class="ttdeci">bool runningDiscovery()</div><div class="ttdoc">runningDiscovery true if theres any controller that is going through the discovery routines and hasn&#39;...</div><div class="ttdef"><b>Definition:</b> commtype.h:129</div></div>
<div class="ttc" id="class_comm_type_html_ab283071f18b76741c90a25a06e61c763"><div class="ttname"><a href="class_comm_type.html#ab283071f18b76741c90a25a06e61c763">CommType::mDiscoveryUpdateInterval</a></div><div class="ttdeci">int mDiscoveryUpdateInterval</div><div class="ttdoc">mDiscoveryUpdateInterval number of msec between sending out each discovery packet. </div><div class="ttdef"><b>Definition:</b> commtype.h:335</div></div>
<div class="ttc" id="class_comm_type_html_a4d82da9a4b796ccb66d9d5c155e082e1"><div class="ttname"><a href="class_comm_type.html#a4d82da9a4b796ccb66d9d5c155e082e1">CommType::fillDevice</a></div><div class="ttdeci">bool fillDevice(SLightDevice &amp;device)</div><div class="ttdoc">fillDevice takes the controller and index of the referenced SLightDevice and overwrites all other val...</div><div class="ttdef"><b>Definition:</b> commtype.cpp:98</div></div>
<div class="ttc" id="class_comm_type_html_ac61ed4af1b52a921138f7f97e5d15b9e"><div class="ttname"><a href="class_comm_type.html#ac61ed4af1b52a921138f7f97e5d15b9e">CommType::updateReceived</a></div><div class="ttdeci">void updateReceived(int)</div><div class="ttdoc">updateReceived an update packet was received from any controller. </div></div>
<div class="ttc" id="class_comm_type_html_ace6d7465b678fc3daf1e9580d331c8dc"><div class="ttname"><a href="class_comm_type.html#ace6d7465b678fc3daf1e9580d331c8dc">CommType::hasStarted</a></div><div class="ttdeci">bool hasStarted()</div><div class="ttdoc">hasStarted true if startup has been called and a shutdown has not be called after it...</div><div class="ttdef"><b>Definition:</b> commtype.h:97</div></div>
</div><!-- fragment --></div><!-- contents -->

<hr>
<table style="width:100%">
  <tr>
    <td>
      <p align="left">
      <small>
          &nbsp; &nbsp; LightingGUI Copyright 2015 - 2017  &nbsp; &nbsp; <br>
          &nbsp; &nbsp; All Rights MIT Licensed.  &nbsp; &nbsp; 
       </small>
       </p>
    </td>
    <td>
      <p align="right">
      <small>
          &nbsp; &nbsp;  Generated by doxygen 1.8.11  &nbsp; &nbsp;
       </small>
       </p>
    </td>
  </tr>
</table>
