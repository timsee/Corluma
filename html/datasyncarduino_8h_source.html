<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Corluma: datasyncarduino.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="CSS_Corluma.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Corluma
   &#160;<span id="projectnumber">v0.19.75</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d0537398ec3fe72d8d4f5c6709d28acc.html">comm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">datasyncarduino.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef DATASYNCARDUINO_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define DATASYNCARDUINO_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;QObject&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;QTimer&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;comm/arducor/arducorpacketparser.h&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;comm/commarducor.h&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;datasync.h&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_data_sync_arduino.html">   26</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_data_sync_arduino.html">DataSyncArduino</a> : <span class="keyword">public</span> QObject, <a class="code" href="class_data_sync.html">DataSync</a> {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    Q_OBJECT</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="class_data_sync_arduino.html#a007f31ea1f9a37898e19e03ffe9ed8c3">DataSyncArduino</a>(<a class="code" href="classcor_1_1_light_list.html">cor::LightList</a>* data, <a class="code" href="class_comm_layer.html">CommLayer</a>* comm, <a class="code" href="class_app_settings.html">AppSettings</a>* appSettings);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_data_sync_arduino.html#a82d9034836a0a06d1c29aa0348a048db">cancelSync</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;signals:</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_data_sync_arduino.html#ace631ca6ef8413dfea075d7ec71698a0">statusChanged</a>(EDataSyncType, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">public</span> slots:</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_data_sync_arduino.html#a05bc2462996fd9208a98a45fc5d1bd52">resetSync</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_data_sync_arduino.html#a9842b4da81e9689ca2bf983bf353b816">commPacketReceived</a>(EProtocolType) <span class="keyword">override</span>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">private</span> slots:</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">void</span> syncData() <span class="keyword">override</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">void</span> cleanupSync() <span class="keyword">override</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">bool</span> sync(<span class="keyword">const</span> <a class="code" href="classcor_1_1_light.html">cor::Light</a>&amp; dataDevice, <span class="keyword">const</span> <a class="code" href="classcor_1_1_light.html">cor::Light</a>&amp; commDevice) <span class="keyword">override</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">void</span> simplifyPackets(<span class="keyword">const</span> <a class="code" href="classcor_1_1_controller.html">cor::Controller</a>&amp; controller, std::vector&lt;QString&gt;&amp; allMessages);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">const</span> QString createPacket(<span class="keyword">const</span> <a class="code" href="classcor_1_1_controller.html">cor::Controller</a>&amp; controller,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                               <span class="keyword">const</span> std::vector&lt;QString&gt;&amp; allMessages);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">void</span> endOfSync() <span class="keyword">override</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="class_ardu_cor_packet_parser.html">ArduCorPacketParser</a>* mParser;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="class_app_settings.html">AppSettings</a>* mAppSettings;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    std::unordered_map&lt;std::string, std::vector&lt;QString&gt;&gt; mMessages;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;};</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#endif // DATASYNCARDUINO_H</span></div><div class="ttc" id="classcor_1_1_controller_html"><div class="ttname"><a href="classcor_1_1_controller.html">cor::Controller</a></div><div class="ttdoc">The Controller class stores information about a Controller. A controller allows control of one or mor...</div><div class="ttdef"><b>Definition:</b> controller.h:20</div></div>
<div class="ttc" id="class_comm_layer_html"><div class="ttname"><a href="class_comm_layer.html">CommLayer</a></div><div class="ttdoc">The CommLayer class provides communication protocols that allow the user to connect and send packets ...</div><div class="ttdef"><b>Definition:</b> commlayer.h:50</div></div>
<div class="ttc" id="class_data_sync_arduino_html_a82d9034836a0a06d1c29aa0348a048db"><div class="ttname"><a href="class_data_sync_arduino.html#a82d9034836a0a06d1c29aa0348a048db">DataSyncArduino::cancelSync</a></div><div class="ttdeci">void cancelSync() override</div><div class="ttdoc">cancelSync cancel the data sync, regardless of it successfully completed. </div><div class="ttdef"><b>Definition:</b> datasyncarduino.cpp:38</div></div>
<div class="ttc" id="class_data_sync_arduino_html"><div class="ttname"><a href="class_data_sync_arduino.html">DataSyncArduino</a></div><div class="ttdoc">The DataSyncArduino class compares the data layer&amp;#39;s representation of devices with the commlayer&amp;#39;s un...</div><div class="ttdef"><b>Definition:</b> datasyncarduino.h:26</div></div>
<div class="ttc" id="class_data_sync_arduino_html_a05bc2462996fd9208a98a45fc5d1bd52"><div class="ttname"><a href="class_data_sync_arduino.html#a05bc2462996fd9208a98a45fc5d1bd52">DataSyncArduino::resetSync</a></div><div class="ttdeci">void resetSync() override</div><div class="ttdoc">resetSync Tells the DataSyncArduino object that the commlayer and the datalayer are potentially no lo...</div><div class="ttdef"><b>Definition:</b> datasyncarduino.cpp:53</div></div>
<div class="ttc" id="class_ardu_cor_packet_parser_html"><div class="ttname"><a href="class_ardu_cor_packet_parser.html">ArduCorPacketParser</a></div><div class="ttdoc">The ArduCorPacketParser class takes the packets used for communication with other devices as input...</div><div class="ttdef"><b>Definition:</b> arducorpacketparser.h:23</div></div>
<div class="ttc" id="classcor_1_1_light_list_html"><div class="ttname"><a href="classcor_1_1_light_list.html">cor::LightList</a></div><div class="ttdoc">The LightList class stores and maintains a list of lights and their desired states. This object is used for storing what the user wants the lights to be. It also has some helper functions that generalize the state of lights. For instance, theres a brightness function that looks at the brightness of all lights in the list and returns an average. </div><div class="ttdef"><b>Definition:</b> lightlist.h:28</div></div>
<div class="ttc" id="class_data_sync_arduino_html_ace631ca6ef8413dfea075d7ec71698a0"><div class="ttname"><a href="class_data_sync_arduino.html#ace631ca6ef8413dfea075d7ec71698a0">DataSyncArduino::statusChanged</a></div><div class="ttdeci">void statusChanged(EDataSyncType, bool)</div><div class="ttdoc">emits its correpsonding enum and whether or not it is in sync when its sync status changes ...</div></div>
<div class="ttc" id="class_data_sync_html"><div class="ttname"><a href="class_data_sync.html">DataSync</a></div><div class="ttdoc">The DataSync base class is used for datasync threads. These threads compares the LightList&amp;#39;s represen...</div><div class="ttdef"><b>Definition:</b> datasync.h:53</div></div>
<div class="ttc" id="class_data_sync_arduino_html_a007f31ea1f9a37898e19e03ffe9ed8c3"><div class="ttname"><a href="class_data_sync_arduino.html#a007f31ea1f9a37898e19e03ffe9ed8c3">DataSyncArduino::DataSyncArduino</a></div><div class="ttdeci">DataSyncArduino(cor::LightList *data, CommLayer *comm, AppSettings *appSettings)</div><div class="ttdoc">DataSyncArduino Constructor for DataSyncArduino. </div><div class="ttdef"><b>Definition:</b> datasyncarduino.cpp:15</div></div>
<div class="ttc" id="classcor_1_1_light_html"><div class="ttname"><a href="classcor_1_1_light.html">cor::Light</a></div><div class="ttdoc">The Light class is the base datatype used for working with lights in Corluma. At a minimum...</div><div class="ttdef"><b>Definition:</b> light.h:29</div></div>
<div class="ttc" id="class_app_settings_html"><div class="ttname"><a href="class_app_settings.html">AppSettings</a></div><div class="ttdoc">The ProtocolSettings class manages which CommTypes are enabled and disabled. It manages the settings ...</div><div class="ttdef"><b>Definition:</b> appsettings.h:18</div></div>
<div class="ttc" id="class_data_sync_arduino_html_a9842b4da81e9689ca2bf983bf353b816"><div class="ttname"><a href="class_data_sync_arduino.html#a9842b4da81e9689ca2bf983bf353b816">DataSyncArduino::commPacketReceived</a></div><div class="ttdeci">void commPacketReceived(EProtocolType) override</div><div class="ttdoc">commPacketReceived a packet was received from a given EProtocolType. In some cases, receiving a packet will reset the sync for that protocol type. </div><div class="ttdef"><b>Definition:</b> datasyncarduino.cpp:45</div></div>
</div><!-- fragment --></div><!-- contents -->

<hr>
<table style="width:100%">
  <tr>
    <td>
      <p align="left">
      <small>
          &nbsp; &nbsp; Corluma Copyright 2015 - 2020  &nbsp; &nbsp; <br>
          &nbsp; &nbsp; All Rights GPL v3.0 Licensed.  &nbsp; &nbsp;
       </small>
       </p>
    </td>
    <td>
      <p align="right">
      <small>
          &nbsp; &nbsp;  Generated by doxygen &nbsp; &nbsp;
       </small>
       </p>
    </td>
  </tr>
</table>
