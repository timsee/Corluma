<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Corluma: datasynchue.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="CSS_Corluma.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Corluma
   &#160;<span id="projectnumber">v0.18.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d0537398ec3fe72d8d4f5c6709d28acc.html">comm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">datasynchue.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef DATASYNCHUE_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define DATASYNCHUE_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;QObject&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;QTimer&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;cor/lightlist.h&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;datasync.h&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;groupdata.h&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">class </span><a class="code" href="class_comm_layer.html">CommLayer</a>;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="class_hue_message.html">   21</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_hue_message.html">HueMessage</a> {</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="class_hue_message.html#a411ab3b6700b670561edb0e0f6646a5f">   24</a></span>&#160;    <a class="code" href="class_hue_message.html#a411ab3b6700b670561edb0e0f6646a5f">HueMessage</a>(<span class="keyword">const</span> QString&amp; <span class="keywordtype">id</span>, <span class="keyword">const</span> QString&amp; <a class="code" href="class_hue_message.html#aeedd449bc6770084f76f835a162fc489">bridgeID</a>, QJsonObject <span class="keywordtype">object</span>)</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        : mID{<span class="keywordtype">id</span>},</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;          mBridgeID{<a class="code" href="class_hue_message.html#aeedd449bc6770084f76f835a162fc489">bridgeID</a>},</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;          mObject{<span class="keywordtype">object</span>} {}</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_hue_message.html#ab43348d4156aa170980d471b669eacfb">   30</a></span>&#160;    QString <a class="code" href="class_hue_message.html#ab43348d4156aa170980d471b669eacfb">ID</a>() const noexcept { <span class="keywordflow">return</span> mID; }</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_hue_message.html#aeedd449bc6770084f76f835a162fc489">   33</a></span>&#160;    <span class="keyword">const</span> QString&amp; <a class="code" href="class_hue_message.html#aeedd449bc6770084f76f835a162fc489">bridgeID</a>() const noexcept { <span class="keywordflow">return</span> mBridgeID; }</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="class_hue_message.html#a3b5c0ffa430418b73bf0a51fe83d749e">   36</a></span>&#160;    <span class="keyword">const</span> QJsonObject&amp; <a class="code" href="class_hue_message.html#a3b5c0ffa430418b73bf0a51fe83d749e">message</a>() const noexcept { <span class="keywordflow">return</span> mObject; }</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    QString mID;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    QString mBridgeID;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    QJsonObject mObject;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;};</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="class_data_sync_hue.html">   54</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_data_sync_hue.html">DataSyncHue</a> : <span class="keyword">public</span> QObject, <a class="code" href="class_data_sync.html">DataSync</a> {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    Q_OBJECT</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="class_data_sync_hue.html">DataSyncHue</a>(<a class="code" href="classcor_1_1_light_list.html">cor::LightList</a>* data, <a class="code" href="class_comm_layer.html">CommLayer</a>* comm, <a class="code" href="class_app_settings.html">AppSettings</a>* appSettings);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">void</span> cancelSync() <span class="keyword">override</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;signals:</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">void</span> statusChanged(EDataSyncType, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">public</span> slots:</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">void</span> resetSync() <span class="keyword">override</span>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">void</span> commPacketReceived(EProtocolType) <span class="keyword">override</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">private</span> slots:</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordtype">void</span> syncData() <span class="keyword">override</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">void</span> cleanupSync() <span class="keyword">override</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">bool</span> sync(<span class="keyword">const</span> <a class="code" href="classcor_1_1_light.html">cor::Light</a>&amp; dataDevice, <span class="keyword">const</span> <a class="code" href="classcor_1_1_light.html">cor::Light</a>&amp; commDevice) <span class="keyword">override</span>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">void</span> endOfSync() <span class="keyword">override</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">bool</span> handleIdleTimeout(<span class="keyword">const</span> <a class="code" href="classhue_1_1_bridge.html">hue::Bridge</a>&amp; bridge, <span class="keyword">const</span> <a class="code" href="class_hue_metadata.html">HueMetadata</a>&amp; light);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    std::unordered_map&lt;std::string, std::vector&lt;HueMessage&gt;&gt; mMessages;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="class_app_settings.html">AppSettings</a>* mAppSettings;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;};</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#endif // DATASYNCHUE_H</span></div><div class="ttc" id="class_comm_layer_html"><div class="ttname"><a href="class_comm_layer.html">CommLayer</a></div><div class="ttdoc">The CommLayer class provides communication protocols that allow the user to connect and send packets ...</div><div class="ttdef"><b>Definition:</b> commlayer.h:50</div></div>
<div class="ttc" id="class_hue_message_html_aeedd449bc6770084f76f835a162fc489"><div class="ttname"><a href="class_hue_message.html#aeedd449bc6770084f76f835a162fc489">HueMessage::bridgeID</a></div><div class="ttdeci">const QString &amp; bridgeID() const noexcept</div><div class="ttdoc">getter for bridge ID </div><div class="ttdef"><b>Definition:</b> datasynchue.h:33</div></div>
<div class="ttc" id="classhue_1_1_bridge_html"><div class="ttname"><a href="classhue_1_1_bridge.html">hue::Bridge</a></div><div class="ttdoc">The Bridge class stores useful information about a hue::Bridge for discovery and for connection purpo...</div><div class="ttdef"><b>Definition:</b> bridge.h:56</div></div>
<div class="ttc" id="class_hue_message_html_ab43348d4156aa170980d471b669eacfb"><div class="ttname"><a href="class_hue_message.html#ab43348d4156aa170980d471b669eacfb">HueMessage::ID</a></div><div class="ttdeci">QString ID() const noexcept</div><div class="ttdoc">getter for hue IDs </div><div class="ttdef"><b>Definition:</b> datasynchue.h:30</div></div>
<div class="ttc" id="classcor_1_1_light_list_html"><div class="ttname"><a href="classcor_1_1_light_list.html">cor::LightList</a></div><div class="ttdoc">The LightList class stores and maintains a list of lights and their desired states. This object is used for storing what the user wants the lights to be. It also has some helper functions that generalize the state of lights. For instance, theres a brightness function that looks at the brightness of all lights in the list and returns an average. </div><div class="ttdef"><b>Definition:</b> lightlist.h:28</div></div>
<div class="ttc" id="class_hue_message_html_a3b5c0ffa430418b73bf0a51fe83d749e"><div class="ttname"><a href="class_hue_message.html#a3b5c0ffa430418b73bf0a51fe83d749e">HueMessage::message</a></div><div class="ttdeci">const QJsonObject &amp; message() const noexcept</div><div class="ttdoc">getter for message </div><div class="ttdef"><b>Definition:</b> datasynchue.h:36</div></div>
<div class="ttc" id="class_hue_message_html"><div class="ttname"><a href="class_hue_message.html">HueMessage</a></div><div class="ttdoc">basic storage class for storing messages to hues </div><div class="ttdef"><b>Definition:</b> datasynchue.h:21</div></div>
<div class="ttc" id="class_data_sync_html"><div class="ttname"><a href="class_data_sync.html">DataSync</a></div><div class="ttdoc">The DataSync base class is used for datasync threads. These threads compares the LightList&amp;#39;s represen...</div><div class="ttdef"><b>Definition:</b> datasync.h:53</div></div>
<div class="ttc" id="classcor_1_1_light_html"><div class="ttname"><a href="classcor_1_1_light.html">cor::Light</a></div><div class="ttdoc">The Light class is the base datatype used for working with lights in Corluma. At a minimum...</div><div class="ttdef"><b>Definition:</b> light.h:29</div></div>
<div class="ttc" id="class_app_settings_html"><div class="ttname"><a href="class_app_settings.html">AppSettings</a></div><div class="ttdoc">The ProtocolSettings class manages which CommTypes are enabled and disabled. It manages the settings ...</div><div class="ttdef"><b>Definition:</b> appsettings.h:18</div></div>
<div class="ttc" id="class_hue_message_html_a411ab3b6700b670561edb0e0f6646a5f"><div class="ttname"><a href="class_hue_message.html#a411ab3b6700b670561edb0e0f6646a5f">HueMessage::HueMessage</a></div><div class="ttdeci">HueMessage(const QString &amp;id, const QString &amp;bridgeID, QJsonObject object)</div><div class="ttdoc">constructor </div><div class="ttdef"><b>Definition:</b> datasynchue.h:24</div></div>
<div class="ttc" id="class_hue_metadata_html"><div class="ttname"><a href="class_hue_metadata.html">HueMetadata</a></div><div class="ttdoc">The HueLight class is a class that stores all the relevant data received from a state update from the...</div><div class="ttdef"><b>Definition:</b> huemetadata.h:20</div></div>
<div class="ttc" id="class_data_sync_hue_html"><div class="ttname"><a href="class_data_sync_hue.html">DataSyncHue</a></div><div class="ttdoc">The DataSyncHue class is a datasync thread that syncs the commlayer&amp;#39;s representation of how the Hue B...</div><div class="ttdef"><b>Definition:</b> datasynchue.h:54</div></div>
</div><!-- fragment --></div><!-- contents -->

<hr>
<table style="width:100%">
  <tr>
    <td>
      <p align="left">
      <small>
          &nbsp; &nbsp; Corluma Copyright 2015 - 2020  &nbsp; &nbsp; <br>
          &nbsp; &nbsp; All Rights GPL v3.0 Licensed.  &nbsp; &nbsp;
       </small>
       </p>
    </td>
    <td>
      <p align="right">
      <small>
          &nbsp; &nbsp;  Generated by doxygen &nbsp; &nbsp;
       </small>
       </p>
    </td>
  </tr>
</table>
